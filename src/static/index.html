<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ClickHouse Dashboard MVP</title>
  <link rel="stylesheet" href="/static/style.css" />
</head>
<body>
  <header class="header">
    <div class="header__title">ClickHouse Dashboard MVP</div>
    <div class="header__subtitle">TCP native protocol + Server-Sent Events (no polling)</div>
  </header>

  <main class="main">
    <section class="panel panel--query">
      <div class="panel__title">Query</div>

      <div class="queryControls">
        <textarea id="queryTextArea" spellcheck="false" placeholder="Write a read-only ClickHouse query (SELECT/WITH/SHOW/DESCRIBE/DESC/EXPLAIN)"></textarea>

        <div class="queryControls__buttons">
          <button id="runButton" class="button button--primary">Run</button>
          <button id="cancelButton" class="button" disabled>Cancel</button>
        </div>

        <div class="queryControls__meta">
          <div><span class="label">Query ID:</span> <span id="queryIdentifierText">-</span></div>
          <div><span class="label">Status:</span> <span id="queryStatusText">idle</span></div>
        </div>
      </div>
    </section>

    <section class="panel panel--metrics">
      <div class="panel__title">Live metrics</div>

      <div class="metricsGrid">
        <div class="metric">
          <div class="metric__label">Elapsed</div>
          <div class="metric__value" id="elapsedSecondsText">-</div>
        </div>

        <div class="metric">
          <div class="metric__label">Progress</div>
          <div class="metric__value" id="progressPercentText">-</div>
        </div>

        <div class="metric">
          <div class="metric__label">Read rows</div>
          <div class="metric__value" id="readRowsText">-</div>
        </div>

        <div class="metric">
          <div class="metric__label">Read bytes</div>
          <div class="metric__value" id="readBytesText">-</div>
        </div>

        <div class="metric">
          <div class="metric__label">Rows / second</div>
          <div class="metric__value" id="rowsPerSecondText">-</div>
        </div>

        <div class="metric">
          <div class="metric__label">Bytes / second</div>
          <div class="metric__value" id="bytesPerSecondText">-</div>
        </div>

        <div class="metric">
          <div class="metric__label">Memory (current / peak)</div>
          <div class="metric__value" id="memoryText">-</div>
        </div>

        <div class="metric">
          <div class="metric__label">CPU core percent (total / instant)</div>
          <div class="metric__value" id="centralProcessingUnitText">-</div>
        </div>

        <div class="metric">
          <div class="metric__label">Threads (current / peak)</div>
          <div class="metric__value" id="threadCountText">-</div>
        </div>
      </div>
    </section>

    <section class="panel panel--logs">
      <div class="panel__title">Logs</div>
      <div id="logsContainer" class="logs"></div>
    </section>
  </main>

  <script src="/static/app.js" defer></script>
</body>
</html>
